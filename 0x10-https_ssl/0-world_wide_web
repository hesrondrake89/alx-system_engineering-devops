#!/usr/bin/env bash
# Create a Bash script that can show details regarding the subdomains.

function display_subdomain_info() {
  # Extract domain and subdomain arguments
  domain=$1
  subdomain=$2
  
  # Set default subdomains to display if no subdomain argument is provided
  if [[ -z "$subdomain" ]]; then
    subdomains=("www" "lb-01" "web-01" "web-02")
  else
    subdomains=("$subdomain")
  fi

  # Loop through subdomains and extract DNS record information using awk
  for sub in "${subdomains[@]}"; do
    record=$(dig +short $sub.$domain | awk '{print $1}')
    record_type=$(dig +short $sub.$domain | awk '{print $4}')
    echo "The subdomain $sub is a $record_type record and points to $record"
  done
}

# Call the function with the provided domain and subdomain arguments
display_subdomain_info $1 $2
